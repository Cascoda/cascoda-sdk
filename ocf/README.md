# OCF over Thread

This folder contains the platform code needed to make the OCF application
layer work on top of Thread, using our embedded Chili platform.

This document describes the existing OCF applications. If you would like to
create a custom application,
[there is a separate guide](../docs/guides/create-custom-ocf-applications.md#) for this.

## apps

The `apps` subdirectory contains a collection of OCF based example
applications.

`ocf-light` is an OCF light server that can be used to control a lamp.
Pin 15 is mapped to the value of the `oic.r.switch.binary` resource hosted at
`/binaryswitch`. The application also presents a `oic.r.light.dimming`
resource hosted at `/dimming`. This resource does not control anything, it is
there strictly to help with certification. The application is compiled with
OCF security enabled, and it can be onboarded using JustWorks.

Besides the standard OpenThread CLI, `ocf-light` also has several custom
commands used to control the application.

- `ocflight set-switch`, followed
by "0" or "1" is used to turn the light on or off from the command-line,
without having to access the resource through OCF. These changes are visible
from OCF: if you type `ocflight set-switch 0`, the light will turn off, and a
GET request at `/binaryswitch` will show that the switch is turned off.

- `ocflight set-dimming`, followed by an integer controls the value of the
`/dimming` resource. This change is only visible through OCF, and does not
affect any other outputs of the device.

`ocf-cli-thermometer` is an OCF server that has a `oic.r.temperature`
resource. The temperature value is taken from the Chili's internal
thermometer. It can be controlled using the standard OpenThread command line
interface, and it does not feature any application-specific commands.

`ocf-sleepy-thermometer` is similar to `ocf-cli-thermometer`, except that it
is a Thread sleepy end device which turns off its radio when not in use in
order to conserve power. Consequently, this target takes longer to respond to
requests & updates - it has higher latency because the data is not sent until
the device wakes up and requests it from its parent.

`ocf-sleepy-thermometer-unsecure` is similar to `ocf-sleepy-thermometer`, but
it does not employ OCF security. Therefore it does not need to be onboarded
and its resources can be accessed directly, by anyone.

`ocf-sensorif` pairs the OCF application layer with Cascoda's I2C sensor
interface. When connected to the appropriate devices, it enables measurements
of temperature, humidity and illuminance. It does not feature any
application-specific commands.

`ocf-sensorif-unsecure` is similar to `ocf-sensorif`, but it does not employ
OCF security. Therefore it does not need to be onboarded and its resources
can be accessed directly, by anyone.

## include_*

These folders contain header files which hold the introspection data for each
server. This data is necessary to pass OCF certification, and it is different
for every server. This data is automatically generated by [DeviceBuilder](https://openconnectivityfoundation.github.io/DeviceBuilder/) based
on the resource types passed to the program.
